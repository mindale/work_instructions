[Статья Хабр](https://habr.com/ru/companies/flant/articles/505100/)
Для тестирования дисков разного типа, для начала нужно присоединить диски к ВМ.
Затем в самой ВМ нужно [создать разделы для каждого диска](https://linuxtraining.ru/kak-sozdat-novyj-razdel-fajlovoj-sistemy-ext4-v-linux/). Для этого:
1. Прописываем команду `lsblk` и смотрим названия дисков, которые у нас имеются (сразу видим, что у добавленных дисков нету разделов)
2. Создаем разделы на дисках при помощи `parted`
	1. `parted /dev/vdb`
	2. `mklabel msdos`
	3. `mkpart` -> `primary` -> `ext4` -> `1` -> `[ваш размер раздела, который требуется]`
	4. `sudo mkfs.ext4 /dev/vdb` - форматирование раздела
	5. `sudo e2label /dev/vdb 'название'` - пометка раздела
	6. `mkdir /mnt/'название'` - точка монтирования диска
	7. `mount /dev/vdb /mnt/'название'` - привязка раздела и точки монтирования
3. Если тестируется несколько дисков, проделать 2 процедуру со всеми дисками
4. Скачиваем утилиту для проверки дисков на linux - `fio`
5. Для тестирования диска в примонтированой дирректории создаем файл `test`
6. Команда для тестирования: `fio --name=test --ioengine=libaio --direct=``1` `--bs=1M --rw=randrw --rwmixread=``60` `--iodepth=``3` `--filename=/dev/vdc --size=4G --runtime=``10`
	1. --name - название файла, куда будем записывать блоки
	2. --ioengine - логика обработки
	3. --direct-1 - выполнение операций в обход кэша
	4. --bs - размер блока, которым оперируем
		1. `8M=r=``35``,w=``26` `IOPS=` `62`
		2. `4M= r=``70``,w=``53` `IOPS =` `125`
		3. `3M = r=``103``,w=``61` `IOPS =` `166`
		4. `2M = r=``148``,w=``100` `IOPS =` `250`
		5. `1M = r=``276``,w=``224` `IOPS =` `500`
	5. --rw - характер нагрузки
	6. --rwmixread - mixed workload that should be reads
	7. --iodepth - кол-во одновременных запросов
	8. --filename - путь к файлу в который будут записаны блоки (В нашем случае /mnt/...)
	9. --size - Общий размер файлового ввода-вывода для каждого потока этого задания
	10. --runtime - лимит по времени
7. 